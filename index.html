<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sekgwari Primary School - Nurturing Excellence in Education in Gamatlala">
    <title>Welcome to Sekgwari Primary School</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <style>
        /* Shared CSS handles hero background dynamically */
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon"></div>
                <span>Sekgwari Primary</span>
            </div>
            <div class="menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="staff.html">Staff</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="heroSection">
        <div class="hero-content">
            <div class="school-badge animate-fadeIn">üìö Established Excellence Since 1990</div>
            <h1 class="animate-fadeInUp" data-setting="hero_title">Welcome to Sekgwari Primary School</h1>
            <p class="animate-fadeInUp stagger-1" data-setting="hero_subtitle">Nurturing Excellence, Building Tomorrow's
                Leaders</p>
            <div class="animate-fadeInUp stagger-2">
                <a href="contact.html" class="btn btn-primary">Get In Touch</a>
                <a href="about.html" class="btn btn-outline">Learn More</a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="bg-white">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" id="why-choose-sekgwari">Why Choose Sekgwari?</h2>
                <p class="section-subtitle">We provide a nurturing environment where every child can thrive and reach
                    their full potential</p>
            </div>

            <div class="grid grid-3">
                <div class="card animate-fadeInUp stagger-1">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5z"></path>
                            <path d="M6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Quality Education</h3>
                    </div>
                    <p>Dedicated to providing excellence in primary education with experienced, passionate teachers who
                        care about each student's success.</p>
                </div>

                <div class="card animate-fadeInUp stagger-2">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="2" y1="12" x2="22" y2="12"></line>
                            <path
                                d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                            </path>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Cultural Values</h3>
                    </div>
                    <p>Preserving our rich heritage while preparing students for a global future with modern teaching
                        methods and technology.</p>
                </div>

                <div class="card animate-fadeInUp stagger-3">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="m6.7 6.7 10.6 10.6"></path>
                            <path d="m6.7 17.3 10.6-10.6"></path>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Sports & Activities</h3>
                    </div>
                    <p>Comprehensive extracurricular programs for holistic development including sports, arts, music,
                        and cultural activities.</p>
                </div>

                <div class="card animate-fadeInUp stagger-4">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Small Class Sizes</h3>
                    </div>
                    <p>Individual attention for every learner with manageable class sizes that ensure personalized
                        learning experiences.</p>
                </div>

                <div class="card animate-fadeInUp stagger-5">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                            <path d="M4 22h16"></path>
                            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                            <path d="M14 14.66V17c0 .55.45.98.97 1.21 1.18.57 2.03 2.06 2.03 3.82"></path>
                            <path d="M12 2v12.66"></path>
                            <circle cx="12" cy="7" r="1"></circle>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Academic Excellence</h3>
                    </div>
                    <p>Proven track record of outstanding academic achievements and successful transitions to secondary
                        education.</p>
                </div>

                <div class="card animate-fadeInUp stagger-6">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <div class="card-header">
                        <h3 class="card-title">Community Focus</h3>
                    </div>
                    <p>Strong partnerships with parents and the community to create a supportive learning environment
                        for all children.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Latest News Section -->
    <section class="bg-gray">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Latest News & Events</h2>
                <p class="section-subtitle">Stay updated with what's happening at our school</p>
            </div>

            <div class="grid grid-3" id="newsGrid">
                <div style="grid-column: 1 / -1; text-align: center; color: var(--gray-500); padding: 2rem;">
                    Checking for latest school news...
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="bg-white">
        <div class="container text-center">
            <div style="max-width: 700px; margin: 0 auto;">
                <h2 class="section-title">Ready to Join Our School Family?</h2>
                <p class="section-subtitle">We welcome new students and families to become part of our vibrant learning
                    community</p>
                <div style="margin-top: 2rem;">
                    <a href="contact.html" class="btn btn-primary">Contact Us Today</a>
                    <a href="about.html" class="btn btn-secondary">Learn About Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Sekgwari Primary School</h3>
                <p>Nurturing excellence in education and building tomorrow's leaders through quality teaching and strong
                    values.</p>
                <div class="social-links">
                    <a href="#" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                        </svg></a>
                    <a href="#" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                        </svg></a>
                    <a href="#" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z">
                            </path>
                        </svg></a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="staff.html">Our Staff</a>
                <a href="gallery.html">Gallery</a>
                <a href="contact.html">Contact</a>
            </div>

            <div class="footer-section">
                <h3>Contact Info</h3>
                <p>üìç <span data-setting="school_address">Gamatlala, Limpopo</span></p>
                <p>üìû <a href="#" data-setting="school_phone" style="color: inherit; text-decoration: none;">+27 XX XXX
                        XXXX</a></p>
                <p>‚úâÔ∏è <a href="#" data-setting="school_email"
                        style="color: inherit; text-decoration: none;">info@sekgwariprimary.co.za</a></p>
            </div>

            <div class="footer-section">
                <h3>School Hours</h3>
                <p data-setting="operating_hours">Monday - Friday 7:30 AM - 2:00 PM</p>
                <p style="margin-top: 1rem; color: #f59e0b;" data-setting="school_tagline">üìö Learning Never Stops</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 Sekgwari Primary School. All rights reserved. | <a href="login.html"
                    style="color: inherit; text-decoration: none; opacity: 0.7; font-size: 0.8rem;">Admin Login</a></p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Load School Settings
            const config = await loadSchoolSettings();

            // Apply Hero Image if exists
            if (config && config.hero_image) {
                document.getElementById('heroSection').style.backgroundImage = `url('${config.hero_image}')`;
            }

            // Load Latest News
            try {
                const { data: newsItems, error } = await supabase
                    .from('news_events')
                    .select('*')
                    .order('event_date', { ascending: false })
                    .limit(3);

                const newsGrid = document.getElementById('newsGrid');
                if (error) throw error;

                if (newsItems && newsItems.length > 0) {
                    newsGrid.innerHTML = newsItems.map((news, index) => {
                        const dateStr = news.event_date ? new Date(news.event_date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) : 'Latest News';
                        const imageHtml = news.image_url
                            ? `<img src="${news.image_url}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 12px; margin-bottom: 1rem;">`
                            : `<div style="width: 100%; height: 200px; background: linear-gradient(135deg, #2563eb, #0ea5e9); border-radius: 12px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üì∞</div>`;

                        return `
                            <div class="card animate-fadeInUp stagger-${index + 1}">
                                ${imageHtml}
                                <div class="card-header">
                                    <p style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.5rem;">üìÖ ${dateStr}</p>
                                    <h3 class="card-title">${news.title}</h3>
                                </div>
                                <p>${news.content}</p>
                            </div>
                        `;
                    }).join('');
                } else {
                    newsGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: var(--gray-500); padding: 2rem;">Check back soon for latest updates and school news!</div>';
                }
            } catch (err) {
                console.error('Error loading news:', err);
                document.getElementById('newsGrid').innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: var(--gray-500); padding: 2rem;">Unable to load news right now.</div>';
            }
        });

        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }
    </script>
</body>

</html>