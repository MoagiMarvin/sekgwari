<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Meet the dedicated staff at Sekgwari Primary School">
    <title>Our Staff - Sekgwari Primary School</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">üéì</div>
                <span>Sekgwari Primary</span>
            </div>
            <div class="menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="staff.html" class="active">Staff</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" style="min-height: 50vh;">
        <div class="hero-content">
            <div class="school-badge animate-fadeIn">üë• Our Team</div>
            <h1 class="animate-fadeInUp">Meet Our Dedicated Staff</h1>
            <p class="animate-fadeInUp stagger-1">Passionate educators committed to your child's success</p>
        </div>
    </section>

    <!-- Teaching Staff Section -->
    <section class="bg-white">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Our Teaching Staff</h2>
                <p class="section-subtitle">Dedicated professionals making a difference every day</p>
            </div>

            <div class="grid grid-3" id="staffGrid">
                <div style="grid-column: 1 / -1; text-align: center; padding: 4rem; color: var(--gray-500);">
                    <p>Loading our dedicated staff members...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Join Our Team Section -->
    <section class="bg-gray">
        <div class="container text-center">
            <div style="max-width: 700px; margin: 0 auto;">
                <h2 class="section-title">Join Our Team</h2>
                <p class="section-subtitle">Are you a passionate educator looking to make a difference? We're always
                    looking for talented individuals to join our school family.</p>
                <div style="margin-top: 2rem;">
                    <a href="contact.html" class="btn btn-primary">Get In Touch</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Sekgwari Primary School</h3>
                <p>Nurturing excellence in education and building tomorrow's leaders through quality teaching and strong
                    values.</p>
                <div class="social-links">
                    <a href="#" class="social-link">üìò</a>
                    <a href="#" class="social-link">üì∑</a>
                    <a href="#" class="social-link">üê¶</a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="staff.html">Our Staff</a>
                <a href="gallery.html">Gallery</a>
                <a href="contact.html">Contact</a>
            </div>

            <div class="footer-section">
                <h3>Contact Info</h3>
                <p>üìç <span data-setting="school_address">Gamatlala, Limpopo</span></p>
                <p>üìû <a href="#" data-setting="school_phone" style="color: inherit; text-decoration: none;">+27 XX XXX
                        XXXX</a></p>
                <p>‚úâÔ∏è <a href="#" data-setting="school_email"
                        style="color: inherit; text-decoration: none;">info@sekgwariprimary.co.za</a></p>
            </div>

            <div class="footer-section">
                <h3>School Hours</h3>
                <p data-setting="operating_hours">Monday - Friday 7:30 AM - 2:00 PM</p>
                <p style="margin-top: 1rem; color: #f59e0b;" data-setting="school_tagline">üìö Learning Never Stops</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 Sekgwari Primary School. All rights reserved. | <a href="login.html"
                    style="color: inherit; text-decoration: none; opacity: 0.7; font-size: 0.8rem;">Admin Login</a></p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Load School Settings
            await loadSchoolSettings();

            // Load Staff Members
            try {
                const { data: staffMembers, error } = await supabase
                    .from('staff')
                    .select('*')
                    .order('id', { ascending: true });

                const staffGrid = document.getElementById('staffGrid');
                if (error) throw error;

                if (staffMembers && staffMembers.length > 0) {
                    staffGrid.innerHTML = staffMembers.map((row, index) => {
                        const imageHtml = row.image_url
                            ? `<img src="${row.image_url}" alt="${row.name}" class="staff-image">`
                            : `<img src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%232563eb%22 width=%22200%22 height=%22200%22/%3E%3Ctext fill=%22white%22 font-size=%2280%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3Eüë®‚Äçüè´%3C/text%3E%3C/svg%3E" alt="Fallback Icon" class="staff-image">`;

                        return `
                            <div class="staff-card animate-fadeInUp stagger-${(index % 6) + 1}">
                                <div class="staff-image-wrapper">
                                    ${imageHtml}
                                </div>
                                <h3 class="staff-name">${row.name}</h3>
                                <span class="staff-position">${row.position || ''}</span>
                                <p class="staff-qualification">${row.qualification || ''}</p>
                                <p class="staff-message">"${row.message || 'Committed to excellence in education.'}"</p>
                                <p class="staff-grade">${row.grade || ''}</p>
                            </div>
                        `;
                    }).join('');
                } else {
                    staffGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 4rem; color: var(--gray-500);"><p>No staff members listed at the moment. Please check back soon!</p></div>';
                }
            } catch (err) {
                console.error('Error loading staff:', err);
                document.getElementById('staffGrid').innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 4rem; color: var(--gray-500);"><p>Unable to load staff members right now.</p></div>';
            }
        });

        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('active');
        }
    </script>
</body>

</html>